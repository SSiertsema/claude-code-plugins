{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Vue Development Skill Report",
  "description": "Handoff report for QA agent validation",
  "type": "object",
  "required": ["id", "skill", "timestamp", "task_description", "files", "tdd", "qa", "e2e_scenarios", "ready_for_e2e"],
  "properties": {
    "id": {
      "type": "string",
      "description": "UUID v4 for traceability",
      "pattern": "^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$"
    },
    "skill": {
      "type": "string",
      "const": "vue-development",
      "description": "Skill identifier"
    },
    "timestamp": {
      "type": "string",
      "format": "date-time",
      "description": "ISO-8601 timestamp of report generation"
    },
    "task_description": {
      "type": "string",
      "description": "Human-readable description of what was implemented"
    },
    "files": {
      "type": "object",
      "required": ["created", "modified", "test_files"],
      "properties": {
        "created": {
          "type": "array",
          "items": { "type": "string" },
          "description": "Files created during this task"
        },
        "modified": {
          "type": "array",
          "items": { "type": "string" },
          "description": "Existing files modified"
        },
        "test_files": {
          "type": "array",
          "items": { "type": "string" },
          "description": "Test files created or modified"
        }
      }
    },
    "tdd": {
      "type": "object",
      "required": ["tests_written_first", "test_command", "tests_passing", "coverage_estimate"],
      "properties": {
        "tests_written_first": {
          "type": "boolean",
          "description": "Whether tests were written before implementation"
        },
        "test_command": {
          "type": "string",
          "description": "Command to run the tests"
        },
        "tests_passing": {
          "type": "boolean",
          "description": "Whether all tests are passing"
        },
        "coverage_estimate": {
          "type": "string",
          "enum": ["high", "medium", "low"],
          "description": "Estimated test coverage level"
        }
      }
    },
    "qa": {
      "type": "object",
      "required": ["score", "status", "checklist"],
      "properties": {
        "score": {
          "type": "number",
          "minimum": 0,
          "maximum": 10,
          "description": "QA score (0-10)"
        },
        "status": {
          "type": "string",
          "enum": ["PASS", "ACCEPTABLE", "NEEDS_WORK"],
          "description": "Overall QA status"
        },
        "checklist": {
          "type": "object",
          "required": ["component_quality", "reactivity", "composables", "nuxt_specific", "typescript", "unit_tests"],
          "properties": {
            "component_quality": { "$ref": "#/$defs/checklistCategory" },
            "reactivity": { "$ref": "#/$defs/checklistCategory" },
            "composables": { "$ref": "#/$defs/checklistCategory" },
            "nuxt_specific": { "$ref": "#/$defs/checklistCategory" },
            "typescript": { "$ref": "#/$defs/checklistCategory" },
            "unit_tests": { "$ref": "#/$defs/checklistCategory" }
          }
        }
      }
    },
    "e2e_scenarios": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["description", "route", "actions", "expected"],
        "properties": {
          "description": {
            "type": "string",
            "description": "What the E2E test should verify"
          },
          "route": {
            "type": "string",
            "description": "URL route to navigate to"
          },
          "actions": {
            "type": "array",
            "items": { "type": "string" },
            "description": "Steps to perform"
          },
          "expected": {
            "type": "string",
            "description": "Expected outcome"
          }
        }
      },
      "description": "E2E test scenarios for Playwright validation"
    },
    "ready_for_e2e": {
      "type": "boolean",
      "description": "Whether the implementation is ready for E2E testing"
    }
  },
  "$defs": {
    "checklistCategory": {
      "type": "object",
      "required": ["passed", "total", "issues"],
      "properties": {
        "passed": {
          "type": "integer",
          "minimum": 0,
          "description": "Number of items passed"
        },
        "total": {
          "type": "integer",
          "minimum": 0,
          "description": "Total applicable items (0 if N/A)"
        },
        "issues": {
          "type": "array",
          "items": { "type": "string" },
          "description": "List of issues found or 'N/A' notes"
        }
      }
    }
  }
}
